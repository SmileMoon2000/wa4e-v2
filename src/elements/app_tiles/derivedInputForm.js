import { html } from 'lit';
import { TileBase } from './tileBase';

class derivedInputTile extends TileBase {
  render() {
    this.formFields = this.appConf.fields;
    this.derivedInputFields = this.makeFields();
    return [
      super.render(),
      html`
        <!-- This 'div' defines the tile as a grid item and the style options
      defines the corners of the tile on the grid. -->
        <div>
          <h2>${this.appConf.title}</h2>
          <!-- input form autogenerated fields -->
          ${this.derivedInputFields}
        </div>
      `,
    ];
  }

  makeFields() {
    return html`<div>
      ${Object.keys(this.formFields).map(
        key =>
          html` <div class="input-group">
            <span class="input-group-text text-wrap text-break"
                   for=${key}
                   style="width: 30%; text-align: left;"
              >${html([this.appConf.fields[key][2]])}</span
            >
            <input
              class="form-control bg-light"
              type="text"
              disabled
              id=${key}
              .value=${this.formFields[key][0]}
            />
            <span class="input-group-text text-wrap text-break"
                   for=${key}
                   style="width: 20%; text-align: left;"
              >${html([this.formFields[key][1]])}</span
            >
          </div>`
      )}
    </div>`;
  }
}

customElements.define('derived-input-tile', derivedInputTile);
